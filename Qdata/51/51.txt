A nano-ZnS-decorated hierarchically porous carbon (ZSHPC) was mixed with MWCNTs to obtain ZSHPC/MWCNT nanocomposites. Then, ZSHPC/MWCNTs were used to modify a screen-printed electrode, and a portable electrochemical detection system combined with machine learning methods was used to investigate carbendazim (CBZ) residues in rice and tea. The electrochemical performance of the constructed electrode showed that the electrode had good electrocatalytic ability, large effective surface area, strong stability and anti-interference ability. Support Vector Machine (SVM), Least Square Support Vector Machine (LS-SVM) and Back Propagation-Artificial Neural Network (BP-ANN) were used to establish the prediction model for CBZ residues in rice and tea, and the traditional linear regression was developed. The investigated results showed that the LS-SVM model had the best prediction performance and the lowest prediction error compared with the traditional linear regression, BP-ANN and SVM models. The R2, RMSE, and MAE for the training set samples were 0.9969, 0.3605 and 0.2968, respectively. The R2, RMSE, MAE and RPD for the prediction set samples were 0.9924, 0.6190, 0.5360 and 10.3097, respectively. The average recovery range of CBZ in tea and rice was 98.77-109.32% and that of RSD was 0.47-2.58%, indicating that the rapid analysis of CBZ pesticide residues in agricultural products based on a portable electrochemical detection system combined with machine learning was feasible.